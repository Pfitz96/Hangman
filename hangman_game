""" Pfitz """

import random
from words import words

def get_word(words):
    word = random.choice(words)

    return word.upper()

def hangman():
    word = get_word(words)
    lives = 8
    word_chosen = []
    hidden = []
    wasted_letters = []

    for i in word:
        word_chosen.append(i)

    for i in range(len(word) - 2):
        hidden.append('_')
    hidden.insert(0, word_chosen[0])
    word_chosen[0] = '_'
    hidden.append(word[-1])
    word_chosen[-1] = '_'

    while hidden[0] in word_chosen:
        place = word_chosen.index(hidden[0])
        hidden[place] = hidden[0]
        word_chosen[place] = '_'
    wasted_letters.append(hidden[0])

    while hidden[-1] in word_chosen:
        place = word_chosen.index(hidden[-1])
        hidden[place] = hidden[-1]
        word_chosen[place] = '_'
    wasted_letters.append(hidden[-1])

    while '_' in hidden:
        print(''.join(hidden))
        print(f'You have {lives} lives left and you have used these letters: ' + ' '.join(wasted_letters))
        letter = input('Pick a letter: ').upper()
        if letter.isalpha():
            if len(letter) == 1:
                if letter not in wasted_letters:
                    wasted_letters.append(letter.upper())
                    if letter in word_chosen:
                        while letter in word_chosen:
                            place = word_chosen.index(letter)
                            hidden[place] = letter
                            word_chosen[place] = '_'
                    else:
                        lives -= 1
                        print(f'{letter.upper()} is not in the word chosen!')
                        if lives == 0:
                            break
                else:
                    print('You have already used this letter, try with another one!')
            else:
                print('Please insert only one letter , why didn\'t you try to put them all in at once?!')
        else:
            print('When have you ever used other characters than letters for Hangman?!')
            print('Please try again with a letter this time!')

    if lives == 0:
        print('You died!!  T_T')
        print(f'The word was: {word}')
    else:
        print(f'Not bad at all kid, you guessed the word, {word}!')

hangman()
